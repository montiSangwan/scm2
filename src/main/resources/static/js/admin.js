// to show image preview

// add event listener if user selects a file using the file input. 
document.querySelector("#image_file_input").addEventListener('change', function(event) {

    // fetch file from event (image)
    let file = event.target.files[0];

    // read the contents of a file asynchronously 
    let reader = new FileReader();

    /**
     * This event is triggered when the FileReader has successfully read the file. 
     * The function inside onload is called when the reading is complete.
     */
    reader.onload = function() {

        // reader.result: This contains the data URL of the file after reading it.
        // sets the src attribute of the preview image element to the data URL generated by the FileReader
        document.querySelector("#upload_image_preview").setAttribute("src", reader.result);
    };

    /**
     * This method reads the contents of the selected file
     * string can be directly used to display the image in the browser.
     */
    reader.readAsDataURL(file);
})